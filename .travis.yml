dist: xenial
language: csharp
mono: none
sudo: required
env:
  - SDK_VERSION="" DOTNET_SKIP_FIRST_TIME_EXPERIENCE=true DOTNET_CLI_TELEMETRY_OPTOUT=true
  - SDK_VERSION="--beta" DOTNET_SKIP_FIRST_TIME_EXPERIENCE=true DOTNET_CLI_TELEMETRY_OPTOUT=true
install:
  - sudo snap install dotnet-sdk $SDK_VERSION --classic
  - sudo snap alias dotnet-sdk.dotnet dotnet
  - dotnet tool install -g Cake.Tool
  - export PATH="$PATH:~/.dotnet/tools"
script:
  - dotnet cake --target=test --framework=netcoreapp3.0
  - dotnet cake --target=test --framework=netcoreapp2.0
  - dotnet cake --target=pack